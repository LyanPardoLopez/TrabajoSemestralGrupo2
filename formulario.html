<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Cotización</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="estilo/EstiloForm.css">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body class="*" background="img/fondo.jpg">
  <nav class="navbar  bg-dark">
    <div class="container-fluid" >
      <a class="navbar-brand" href="Index.html" >PigsTattoo</a>
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
        <form class="form-register" id="form">
            <h3>Cotiza con nosotros!</h3>
            <div class="form-group">
              <label  for="txtEmail">Email address</label>
              <input type="email" class="form-control" id="txtEmail" placeholder="name@example.com">
            </div>
            <div class="alert alert-dark" role="alert" id="txtErrorEmail">
              <label  id="msgErrorEmail"></label>
            </div>



            <div class="form-group">
              <label for="tatuadorSelect1" >Tatuador elegido</label>
                <select class="form-select" id="ddlTatuador">
                  <option selected>Seleccione su Tatuador</option>
                  <option value="1">Kat von D</option>
                  <option value="2">María león</option>
                  <option value="3">Mauricio partida</option>
                  <option value="4">Mike Rubendall</option>
                </select>
            </div>

            <div class="alert alert-dark" role="alert" id="txtErrorSelect1">
              <label  id="msgErrorSelect1"></label>
            </div>


            <div class="form-group">
              <label for="tatuadorSelect1" >Diseño elegido</label>
                <select class="form-select" id="ddlEstilo">
                  <option selected>Mi estilo</option>
                  <option value="1">#01</option>
                  <option value="2">#02</option>
                  <option value="3">#03</option>
                  <option value="4">#04</option>
                  <option value="5">#05</option>
                  <option value="6">#06</option>
                </select>
            </div>
              <div class="alert alert-dark" role="alert" id="txtErrorSelect2">
                <label  id="msgErrorSelect2"></label>
              </div>
              


            
              <div class="form-group">
                <label for="txtIdea">Detalla tu idea/Agragado al diseño escogido.(220letras)</label>
                <textarea class="form-control" id="txtIdea" rows="3"></textarea>
              </div>
              <div class="alert alert-dark" role="alert" id="txtErrorIdea">
                <label  id="msgErrorIdea"></label>
              </div>



              <div class="form-group">
                <label for="selectArchivo">Adjuntar imagen de referencia</label>
                <div>
                <input type="file" class="form-control-file" id="archivo" accept=".jpg,.png" required onchange="validar()"/>
                </div>
              </div>
              <div class="alert alert-dark" role="alert" id="txtErrorArchivo">
                <label  id="msgErrorArchivo"></label>
              </div>


              <div class="text">
                <h9>Una vez enviada tu cotización, un administrador la enviará directo a tu tatuador. Luego de un tiempo estimado,32 horas aprox. Se enviará un mail al correo indicado con la información respectiva para tu proceso.</h9>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                  <button class="btn btn-primary me-md-2" type="button" id="btnLimpiar">Limpiar</button>
                  <button class="btn btn-primary me-md-2" type="button" id="btnEnviar">Cotizar</button>
              </div>


          </form>
        <div class="container-flex">
          <footer class="footer">
            <div class="footer-text">
              <ul>
              <li>Terminos y condiciones</li>
              <li>Redes sociales</li>
              <li>Soporte</li>

              </ul>
            </div>
            </footer>
         </div>
         
   

      <!--<script src="code.jquery.com/jquery-3.6.0.slim.min.js " integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin=" anonymous "></script>!-->
      <script src="js/query-3.6.0.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
      <script src='main.js'></script>
      
      <script type="text/javascript">
        $(document).ready(function(){
            //apaga etiquetas alert
            $("#txtErrorEmail").hide();
            $("#txtErrorSelect1").hide();
            $("#txtErrorSelect2").hide();
            $("#txtErrorIdea").hide();
            $("#txtErrorArchivo").hide();
          
            //funcion para validar el archivo
            function validar() {

                // Obtener nombre de archivo

                let archivo = document.getElementById('archivo').value,

                // Obtener extensión del archivo

                    extension = archivo.substring(archivo.lastIndexOf('.'),archivo.length);

                // Si la extensión obtenida no está incluida en la lista de valores

                // del atributo "accept", mostrar un error.

                if(document.getElementById('archivo').getAttribute('accept').split(',').indexOf(extension) < 0) {

                  alert('Archivo inválido. No se permite la extensión ' + extension);

                }
              }




            //funcion para validar que indique la idea
            $("#ddlEstilo").blur(function(){
              var estilo = $("#ddlEstilo").val();
              if(estilo.trim()>0|| estilo.trim()==="Mi estilo"){
                $("#txtErrorSelect2").show();
                $("#msgErrorSelect2").text("Recuerda! Debes detallar especificamente, lugar del tattoo en tu cuerpo, colores, tamaño, etc.");
                return false;
              }else{
                $("txtErrorSelect2").hide();
              }
            });
            //funcion para validar correo 
            $("#txtEmail").blur(function(){
              var expReg= /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;
              var email = $("#txtEmail").val();
              if( email.trim()<=0|| !expReg.test(email)){
                $("#txtErrorEmail").show();
                  $("#msgErrorEmail").text("Hey! Este campo email no es valido");
                  $("#txtEmail").focus();
                  return false;
              }else{
                $("#txtErrorEmail").hide();
              }
          
            });
           

            //valida envio de formulario

            $("#btnEnviar").click(function(){
              var retorno =  true;
              var email = $("#txtEmail").val();
              var tatuador = $("#ddlTatuador").val();
              var estilo = $("#ddlEstilo").val();
              var idea = $("#txtIdea").val();
              var archivo = $("#selectArchivo").val();

          
              if(email.trim()<=0){
                $("#txtErrorEmail").show();
                  $("#msgErrorEmail").text("Hey! Este campo email no es valido")
                  retorno = false;
              }else{
                $("#txtErrorEmail").hide();
              }
             
              if(tatuador.trim() === "Seleccione su Tatuador"){
                $("#txtErrorSelect1").show();
                  $("#msgErrorSelect1").text("Hey! Este campo tatuador es obligatorio.");
                  retorno = false;
              }else{
                $("#txtErrorSelect1").hide();
              }

              if(idea.trim()<=0 || idea.trim()>200){
                $("#txtErrorIdea").show();
                  $("#msgErrorIdea").text("WOW! Debes redactar mejor tu idea");
                  retorno = false;
              }else{
                $("#txtErrorIdea").hide();
              }
            
              return retorno;

            
            });
        });
      </script>
</body>
</html>